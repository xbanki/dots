# yaml-language-server: $schema=https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/main/themes/schema.json

#   Oh My Posh Theme
#
# Implements my theme Palmer, which as of writing is not released or finalized,
# as an Oh My Posh theme.
#
#   Copyright: Banki <contact@xbanki.me>
#              Licensed under the MIT License.
#              See LICENSE for details.

version: 3
blocks:
  - type: prompt
    alignment: left
    segments:
      - template: '⚡{{ .UserName }} '
        type: session
        style: plain
      - properties:
          cache_duration: 24h

        template: 'on {{ .Icon }} {{ .OS }}:'
        style: plain
        type: os
      - template: '({{ .Name }}) '
        style: plain
        type: shell
        properties:
          cache_duration: 24h
          strategy: session

      - template: 'as 󱄅 nix-shell-{{ .Type }} '
        type: nix-shell
        style: plain
      - template: 'in  {{ .Path }} '
        style: plain
        type: path
        properties:
          style: agnoster_full

      - template: 'at  git:({{ if (.UpstreamIcon) }}{{ .UpstreamIcon }}{{ end }}{{ .HEAD }}{{ if or .Working.Changed .Staging.Changed }}*{{ end }}){{ if or (gt .Ahead 0) (gt .Behind 0) }} (󰁝 {{ .Ahead }} 󰁅 {{ .Behind }}){{ end }} '
        style: plain
        type: git
        properties:
          fetch_upstream_icon: true
          fetch_push_status: true
          fetch_bare_info: true
          fetch_status: true
          branch_icon: ' '

